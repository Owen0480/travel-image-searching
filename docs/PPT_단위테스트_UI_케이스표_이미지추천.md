# 단위테스트 (UI/프론트) — 케이스 표 (이미지 추천)

> 대상: `travel-frontend/public/imageSeaching.html`  
> 메뉴경로 표기는 PPT용으로 **(화면 경로/URL)** 기준으로 작성했습니다.  
> **수행결과**는 테스트 수행 시 O/X 또는 Pass/Fail로 채워 넣으면 됩니다.

| No | 케이스명 | 메뉴경로 | 케이스내용 | 사전조건 | 테스트 데이터 | 예상결과 | 수행결과 |
|----|----------|----------|------------|----------|--------------|----------|----------|
| 1 | 이미지 파일 선택 트리거 | 이미지추천 > 이미지검색 (`/home` 또는 `imageSeaching.html`) | “Choose Image/Browse Gallery” 버튼 클릭 시 파일 선택창이 열리는지 확인 | 브라우저에서 페이지 로드 완료 | - | OS 파일 선택창이 열림 |  |
| 2 | preference 입력값 trim 처리 | 이미지추천 > 이미지검색 | 취향 입력란에 앞뒤 공백 포함 입력 후 전송 시 trim 되는지 확인 | 페이지 로드 완료 | preference: `"  바다  "` | 서버로 보내는 preference가 `"바다"`로 처리됨(공백 제거) |  |
| 3 | preference 빈 값 제외 | 이미지추천 > 이미지검색 | 취향 입력란이 비어 있을 때 preference가 FormData에 포함되지 않는지 확인 | 페이지 로드 완료 | preference: `""` | FormData에 `preference` 파트가 없어도 정상 요청 처리(에러 없음) |  |
| 4 | 로딩 UI 표시/복구 | 이미지추천 > 이미지검색 | 업로드/분석 시작 시 로딩 표시, 완료/실패 시 해제되는지 확인 | 이미지 선택 가능 상태 | 임의 이미지 1장 | 로딩(“분석 중입니다…”) 표시 + 버튼 disabled → 응답 후 로딩 숨김 + 버튼 enabled |  |
| 5 | “N곳 추천” 문구 표시 | 이미지추천 > 이미지검색 | 성공 응답 시 상단 문구가 “유사 여행지 N곳 추천”으로 표시되는지 확인 | (권장) API가 success=true 반환 | success 응답: `count=3` | 상단 제목이 **유사 여행지 3곳 추천**으로 갱신 |  |
| 6 | 결과 카드 3개 렌더 | 이미지추천 > 이미지검색 | results 3개를 받아 카드가 3개 생성되는지 확인 | (권장) API가 results 3개 반환 | results[0..2]: place_name/address/score/image_file/guide | 카드 3개 렌더, 각 카드에 장소명·주소·매칭%가 표시 |  |
| 7 | 이미지 URL 인코딩 | 이미지추천 > 이미지검색 | image_file에 공백/특수문자 포함 시 URL이 깨지지 않는지 확인 | (권장) results에 특수문자 파일명 포함 | image_file: `"a b(1).jpg"` | 이미지 URL이 `encodeURIComponent` 적용된 형태로 생성되어 로드 시도됨 |  |
| 8 | 가이드 구간 파싱(번호형) | 이미지추천 > 이미지검색 | `1) 2) 3)` 형식 가이드가 요약/특징/팁으로 구간 분리되는지 확인 | success 응답 | guide 예: `1) 한줄요약\n2) 핵심특징\n3) 팁` | 카드/상단 가이드에 **요약/특징/팁** 라벨과 함께 줄 단위로 표시 |  |
| 9 | 가이드 렌더 maxLines 제한 | 이미지추천 > 이미지검색 | 가이드 구간이 많을 때 maxLines 만큼만 표시되는지 확인 | success 응답 | guide 예: `1) ...\n2) ...\n3) ...\n4) ...\n5) ...` | 카드 가이드가 설정된 maxLines(현재 4)까지만 표시 |  |
| 10 | `**`(마크다운) 제거 | 이미지추천 > 이미지검색 | 가이드에 `**굵게**`가 포함돼도 별표가 제거돼 보이는지 확인 | success 응답 | guide 예: `1) **요약** 입니다` | 화면에는 `요약 입니다`처럼 `**`가 노출되지 않음 |  |
| 11 | 빈 guide placeholder | 이미지추천 > 이미지검색 | guide가 빈 문자열/누락일 때 placeholder가 보이는지 확인 | success 응답(guide 없음) | guide: `""` 또는 undefined | “유사한 분위기의 여행지입니다.” placeholder가 가이드 박스에 표시 |  |
| 12 | XSS/이스케이프 | 이미지추천 > 이미지검색 | place_name/guide에 HTML이 들어와도 실행되지 않는지 확인 | success 응답(가짜 데이터) | guide: `"<script>alert(1)</script>"` | 스크립트 실행 없이 텍스트로만 표시(escape 처리) |  |
| 13 | 실패 응답 UI 복구 | 이미지추천 > 이미지검색 | success=false 또는 오류 시 안내 상태로 돌아가는지 확인 | API가 실패 응답 반환 | `{success:false, ai_analysis:'...'}` | 상단 제목이 초기 안내 문구로, 설명에 실패 메시지 표시, 카드 영역은 placeholder 상태 |  |
| 14 | 상세 보기(지도) | 이미지추천 > 이미지검색 | 카드 “상세 보기” 클릭 시 네이버 지도 검색창이 열리는지 확인 | results place_name 존재 | place_name: `"이호테우해수욕장"` | 새 창으로 네이버 지도 검색 URL이 열림 |  |

