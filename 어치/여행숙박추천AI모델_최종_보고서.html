<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>여행 &amp; 숙박 추천 AI 모델 - 최종 보고서</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: "Malgun Gothic", "Apple SD Gothic Neo", sans-serif;
      line-height: 1.6;
      color: #222;
      max-width: 900px;
      margin: 0 auto;
      padding: 2rem;
      background: #fff;
    }
    @media print {
      body { padding: 1rem; }
      .no-print { display: none; }
      h2 { page-break-after: avoid; }
      table { page-break-inside: avoid; }
    }
    h1 {
      font-size: 1.75rem;
      border-bottom: 2px solid #1392ec;
      padding-bottom: 0.5rem;
      margin-top: 0;
    }
    h2 {
      font-size: 1.25rem;
      color: #1392ec;
      margin-top: 2rem;
      margin-bottom: 0.75rem;
    }
    h3 { font-size: 1.05rem; margin-top: 1.25rem; margin-bottom: 0.5rem; }
    h4 { font-size: 1rem; margin-top: 1rem; margin-bottom: 0.5rem; }
    p { margin: 0.5rem 0; }
    ul { margin: 0.5rem 0; padding-left: 1.5rem; }
    li { margin: 0.25rem 0; }
    hr { border: none; border-top: 1px solid #ddd; margin: 1.5rem 0; }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 0.75rem 0;
      font-size: 0.9rem;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 0.5rem 0.75rem;
      text-align: left;
    }
    th {
      background: #f0f7fc;
      font-weight: 600;
    }
    tr:nth-child(even) { background: #fafafa; }
    .subtitle { font-size: 1.05rem; color: #444; margin: 0.25rem 0 1rem; }
    .team { color: #666; font-size: 0.95rem; margin-bottom: 1.5rem; }
    .toc {
      background: #f8f9fa;
      padding: 1rem 1.25rem;
      border-radius: 6px;
      margin: 1rem 0;
    }
    .toc ul { list-style: none; padding-left: 0; margin: 0; }
    .toc li { margin: 0.35rem 0; }
    .toc a { color: #1392ec; text-decoration: none; }
    .toc a:hover { text-decoration: underline; }
    .footer { margin-top: 2rem; padding-top: 1rem; border-top: 1px solid #ddd; color: #666; font-size: 0.9rem; }
    strong { font-weight: 600; }
  </style>
</head>
<body>

  <h1>여행 &amp; 숙박 추천 AI 모델</h1>
  <p class="subtitle"><strong>이미지·취향 기반 대화형 인터페이스를 통한 여행지 추천 시스템</strong></p>
  <p class="team">Team 3 | 이주영, 김건호, 김재영, 김성미</p>

  <hr />

  <h2>목차</h2>
  <nav class="toc">
    <ul>
      <li>1. 프로젝트 개요</li>
      <li>2. 팀 구성 및 개발 계획</li>
      <li>3. 시스템 설계</li>
      <li>4. 기타</li>
    </ul>
  </nav>

  <hr />

  <h2>1. 프로젝트 개요 (Project Overview)</h2>

  <h3>추진 배경 및 목적</h3>
  <ul>
    <li>사용자가 올린 <strong>사진</strong>과 <strong>취향(가족/맛집/힐링 등)</strong>을 입력받아, 유사한 여행지를 추천하고 AI 가이드를 제공하는 서비스</li>
    <li><strong>이미지 유사도(CLIP)</strong> + <strong>RAG(Chroma + Gemini)</strong> 기반으로, 근거 있는 설명과 취향에 맞는 문장을 생성</li>
    <li>채팅 기반 여행 상담, 여행 스타일 분석(팝업) 등으로 사용자 경험 확장</li>
  </ul>

  <h3>주요 기능 (실제 구현 기준)</h3>
  <table>
    <thead>
      <tr><th>구분</th><th>기능</th><th>설명</th></tr>
    </thead>
    <tbody>
      <tr><td>인증</td><td>Google OAuth 로그인</td><td>OAuth2.0 기반 회원가입·로그인</td></tr>
      <tr><td>인증</td><td>JWT + Refresh Token</td><td>Access Token 갱신, Redis 저장</td></tr>
      <tr><td>이미지 추천</td><td>이미지 기반 여행지 추천</td><td>사진 업로드 → CLIP 유사도 → Top3 장소</td></tr>
      <tr><td>이미지 추천</td><td>취향 입력 + RAG 가이드</td><td>취향(가족/맛집 등)에 맞춰 Chroma retrieval 후 Gemini로 가이드 생성</td></tr>
      <tr><td>이미지 추천</td><td>상세 보기</td><td>추천 장소 네이버 지도 검색 연결</td></tr>
      <tr><td>채팅</td><td>여행 채팅</td><td>FastAPI travel-chat 연동, 대화 이력</td></tr>
      <tr><td>대화</td><td>대화 저장·조회</td><td>Conversation ID 기반 저장·목록 (SavedConversation)</td></tr>
      <tr><td>분석</td><td>여행 스타일 분석</td><td>관심사 선택 → AI 여행 타입 분석 (팝업)</td></tr>
      <tr><td>마이페이지</td><td>마이페이지</td><td>사용자 정보, (필요 시 프로필 등)</td></tr>
      <tr><td>기타</td><td>네비게이션</td><td>채팅, 이미지 검색, 마이페이지, 여행 스타일 등 라우팅</td></tr>
    </tbody>
  </table>

  <hr />

  <h2>2. 팀 구성 및 개발 계획 (Team &amp; Development Plan)</h2>

  <h3>팀원 역할 및 기능 분담</h3>
  <ul>
    <li><strong>이주영, 김건호, 김재영, 김성미</strong> — 역할 분담은 팀 내부 기준으로 정리</li>
    <li><strong>주요 담당 영역 예시</strong>: 프론트(React·이미지 검색·UI), 백엔드(Spring Boot·FastAPI), 이미지 추천·RAG·채팅·여행 스타일 등</li>
  </ul>

  <h3>개발 환경 및 기술 스택 (실제 프로젝트 기준)</h3>

  <h4>Frontend</h4>
  <table>
    <thead><tr><th>항목</th><th>설명</th><th>비고</th></tr></thead>
    <tbody>
      <tr><td>React</td><td>SPA 라이브러리</td><td>18.x</td></tr>
      <tr><td>Vite</td><td>빌드·개발 서버</td><td>5.x</td></tr>
      <tr><td>React Router</td><td>라우팅</td><td>6.x</td></tr>
      <tr><td>Tailwind CSS</td><td>유틸리티 CSS</td><td>CDN / 설정</td></tr>
      <tr><td>Axios</td><td>HTTP 클라이언트</td><td>JWT·Refresh 연동</td></tr>
    </tbody>
  </table>

  <h4>Backend</h4>
  <table>
    <thead><tr><th>항목</th><th>설명</th><th>비고</th></tr></thead>
    <tbody>
      <tr><td>Spring Boot</td><td>애플리케이션 프레임워크</td><td>3.x, port 8081</td></tr>
      <tr><td>Java</td><td>비즈니스 로직</td><td>JDK 17</td></tr>
      <tr><td>Gradle</td><td>빌드 도구</td><td>8.x</td></tr>
      <tr><td>FastAPI</td><td>Python API 서버</td><td>port 8000, 이미지 추천·채팅·여행 스타일</td></tr>
    </tbody>
  </table>

  <h4>AI / 추천</h4>
  <table>
    <thead><tr><th>항목</th><th>설명</th><th>비고</th></tr></thead>
    <tbody>
      <tr><td>CLIP (sentence-transformers)</td><td>이미지 유사도</td><td>clip-ViT-B-32</td></tr>
      <tr><td>ChromaDB</td><td>벡터 DB (RAG)</td><td>장소 문서 청크 저장·검색</td></tr>
      <tr><td>sentence-transformers</td><td>텍스트 임베딩</td><td>all-MiniLM-L6-v2</td></tr>
      <tr><td>Google Gemini</td><td>가이드 생성·채팅 등</td><td>gemini-2.5-flash</td></tr>
      <tr><td>LangGraph / LangChain</td><td>(그래프·채팅 등)</td><td>FastAPI 내 활용</td></tr>
    </tbody>
  </table>

  <h4>Database &amp; Infra</h4>
  <table>
    <thead><tr><th>항목</th><th>설명</th><th>비고</th></tr></thead>
    <tbody>
      <tr><td>MariaDB</td><td>RDBMS</td><td>회원·대화·여행 스타일 결과 등</td></tr>
      <tr><td>Redis</td><td>세션·토큰</td><td>Refresh Token 등</td></tr>
      <tr><td>Git</td><td>형상 관리</td><td>-</td></tr>
    </tbody>
  </table>

  <hr />

  <h2>3. 시스템 설계 (System Design)</h2>

  <h3>프로젝트 구조 (요약)</h3>
  <ul>
    <li><strong>travel-frontend</strong>: React(Vite), 라우트: 로그인, 채팅, 이미지 검색, 여행 스타일, 마이페이지</li>
    <li><strong>travel-springboot</strong>: 인증(OAuth·JWT), recommend 프록시(→ FastAPI), 채팅·대화·여행 스타일 API</li>
    <li><strong>backend-fastapi</strong>: 이미지 추천(CLIP·Chroma·Gemini), travel-chat, travel-style 분석, 정적 이미지 서빙(/images)</li>
  </ul>

  <h3>기능 정의서 (실제 구현 기준)</h3>
  <table>
    <thead>
      <tr><th>번호</th><th>Depth1</th><th>Depth2</th><th>기능명</th><th>기능 설명</th></tr>
    </thead>
    <tbody>
      <tr><td>001</td><td>메인</td><td>인증</td><td>OAuth 로그인</td><td>Google OAuth2.0 기반 로그인·회원가입</td></tr>
      <tr><td>002</td><td>메인</td><td>인증</td><td>JWT·Refresh</td><td>Access/Refresh Token 발급·갱신, Redis 저장</td></tr>
      <tr><td>003</td><td>메인</td><td>이미지 추천</td><td>이미지 업로드·추천</td><td>사진 업로드 → Spring → FastAPI /recommend/analyze → Top3 장소</td></tr>
      <tr><td>004</td><td>메인</td><td>이미지 추천</td><td>취향 입력·RAG 가이드</td><td>취향 텍스트 + Chroma retrieval → Gemini 취향 반영 가이드</td></tr>
      <tr><td>005</td><td>메인</td><td>이미지 추천</td><td>상세 보기</td><td>추천 장소명·주소로 네이버 지도 검색</td></tr>
      <tr><td>006</td><td>메인</td><td>채팅</td><td>여행 채팅</td><td>FastAPI /travel-chat 연동, 대화 이력 표시</td></tr>
      <tr><td>007</td><td>메인</td><td>대화</td><td>대화 세션·저장</td><td>Conversation ID 생성·저장·목록 조회</td></tr>
      <tr><td>008</td><td>메인</td><td>분석</td><td>여행 스타일 분석</td><td>관심사 선택 → FastAPI 분석 → 팝업 결과</td></tr>
      <tr><td>009</td><td>마이페이지</td><td>회원</td><td>마이페이지</td><td>사용자 정보 조회 등</td></tr>
      <tr><td>010</td><td>공통</td><td>보안</td><td>recommend 비인증 허용</td><td>/api/v1/recommend/** permitAll (이미지 검색용)</td></tr>
    </tbody>
  </table>

  <h3>주요 업무 흐름 (요약)</h3>
  <ol>
    <li><strong>로그인</strong>: 로그인 화면 → OAuth 또는 이메일/비밀번호 → JWT 발급 → 메인(채팅 등) 이동</li>
    <li><strong>이미지 추천</strong>: 이미지 검색 화면 → 사진·취향 입력 → Spring 8081 → FastAPI 8000 → CLIP 유사도 + Chroma RAG + Gemini → Top3 결과·가이드 표시 → 상세 보기(지도)</li>
    <li><strong>채팅</strong>: 채팅 화면 → 메시지 전송 → Spring → FastAPI travel-chat → 응답 표시</li>
    <li><strong>여행 스타일</strong>: 여행 스타일 화면 → 관심사 선택 → FastAPI 분석 → 팝업 결과</li>
  </ol>

  <h3>화면 구성 (실제 라우트 기준)</h3>
  <table>
    <thead><tr><th>화면</th><th>경로</th><th>설명</th></tr></thead>
    <tbody>
      <tr><td>로그인</td><td>/login</td><td>OAuth·이메일 로그인</td></tr>
      <tr><td>회원가입</td><td>/register</td><td>회원가입</td></tr>
      <tr><td>채팅</td><td>/chat</td><td>여행 채팅</td></tr>
      <tr><td>이미지 검색</td><td>/image-search</td><td>사진·취향 입력, Top3 추천·가이드</td></tr>
      <tr><td>여행 스타일</td><td>/travel-style</td><td>관심사 선택, AI 타입 분석(팝업)</td></tr>
      <tr><td>마이페이지</td><td>/mypage</td><td>사용자 정보</td></tr>
    </tbody>
  </table>

  <h3>데이터베이스 설계 (ERD)</h3>
  <ul>
    <li>실제 테이블은 Spring Boot 엔티티 기준 (User, RefreshToken, SavedConversation, TravelStyleResult 등)</li>
    <li>상세 ERD는 프로젝트 내 ERD 다이어그램 또는 엔티티 정의 참고</li>
  </ul>

  <hr />

  <h2>4. 기타</h2>
  <ul>
    <li><strong>보고서 작성일</strong>: 2026년 기준, 실제 구현(코드베이스)에 맞춰 정리</li>
    <li><strong>원본 문서</strong>: 여행숙박추천AI모델_최종에 최종.txt (발표/기획 초안)를 바탕으로, 구현된 기능·기술 스택으로 수정·보완</li>
  </ul>

  <p class="footer"><strong>경청해 주셔서 감사합니다. 질문 주시면 답변 드리겠습니다.</strong></p>

</body>
</html>
