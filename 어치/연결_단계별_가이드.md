# 이미지 업로드 → 여행지 추천: 단계별 연결 가이드

## 전체 연결 구조 (요구사항: 프론트 → 스프링부트 → FastAPI)

```
[my_logic.py]          ← 당신이 만든 로직 (Streamlit, 같은 알고리즘)
       ↓
[backend-fastapi]      ← 이 로직을 API로 제공 (포트 8000)
       ↑
[travel-springboot]    ← 이미지 분석 요청 중계 (포트 8080) → FastAPI 호출
       ↑
[imageSeaching.html]  ← 이미지 업로드 → 8080 호출 → 결과 카드 (이미지는 8000에서 로드)
       ↑
[travel-frontend]      ← React 앱, /image-search에서 위 HTML 띄움
```

- **이미지 추천**: 프론트 → **Spring Boot(8080)** `/api/v1/recommend/analyze` → **FastAPI(8000)** → recommend_service
- **추천 이미지 파일**: 카드 이미지 URL은 **FastAPI(8000)** `/images/파일명` (Spring Boot는 중계만)
- **로그인/회원**: 프론트 → **Spring Boot(8080)**

---

## 1단계: backend-fastapi 서버 켜기 (8000 포트)

**"서버가 켜져 있는지 확인해주세요! (8000포트)"** 메시지는  
→ **FastAPI 서버가 8000에서 안 떠 있을 때** 나옵니다.

### 할 일

1. **터미널에서 backend-fastapi 폴더로 이동**
   ```bash
   cd backend-fastapi
   ```

2. **가상환경 있다면 활성화** (없으면 생략)
   ```bash
   # Windows
   .venv\Scripts\activate
   # 또는
   venv\Scripts\activate
   ```

3. **FastAPI 서버 실행**
   ```bash
   python -m uvicorn main:app --reload --host 0.0.0.0 --port 8000
   ```
   또는:
   ```bash
   uvicorn main:app --reload --host 0.0.0.0 --port 8000
   ```

4. **동작 확인**
   - 브라우저에서 **http://localhost:8000** 접속 → "Welcome to FastAPI Project" 등 나오면 OK
   - **http://localhost:8000/docs** 접속 → Swagger 문서 나오면 OK

5. **이미지 업로드 다시 시도**
   - travel-frontend에서 이미지 검색 페이지 열고
   - 이미지 선택 후 업로드
   - 이때 **8000 서버가 켜져 있으면** "서버가 켜져 있는지 확인해주세요" 대신 **분석 결과**가 나와야 합니다.

### 정리

- **1단계 = FastAPI를 8000에서 계속 켜 두기**
- 켜 둔 상태에서 imageSeaching.html이 `http://localhost:8000/api/v1/recommend/analyze`로 요청을 보내고,  
  응답의 `results` 앞 3개를 카드로 보여주는 구조는 이미 맞춰져 있습니다.

1단계까지 확인되면, 다음 단계(데이터 경로, Spring Boot와 연동 등)를 이어서 정리할 수 있습니다.
